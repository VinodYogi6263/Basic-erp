<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<title>Home</title>
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
	<!-- Google Fonts Roboto -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
	<!-- MDB -->
	<link rel="stylesheet" href="css/mdb.min.css" />
	<!-- Custom styles -->
	<link rel="stylesheet" href="css/style.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>

	<style>
		.product-card {
			width: 280px;
			border: 1px solid #ccc;
			border-radius: 5px;
			margin: 10px;
			padding: 10px;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
			transition: transform 0.2s;
			display: inline-block;
			background-color: white;
			height: 450px;
		}

		.product-card:hover {
			transform: scale(1.05);
		}

		.product-image {
			max-width: 260px;
			max-height: 250px;
			min-height: 250px;
		}

		.add-to-cart-button {
			background-color: #007BFF;
			color: white;
			border: none;
			padding: 5px 10px;
			cursor: pointer;
		}

		.add-to-cart-button:hover {
			background-color: #0056b3;
		}

		form {
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		button {
			margin: 5px;
			padding-top: 10px;
			color: rgb(255, 255, 0);
			border: none;
			padding: 5px 10px;
			cursor: pointer;
			border: 1px black;
			background-color: rgb(100, 255, 100);
			border-radius: 5px;
		}

		button:hover {
			background-color: rgb(50, 200, 50);
		}
       .social-icons {
            margin-top: 10px;
        }

        .social-icons a {
            margin-right: 10px;
            color: #007bff; 
            text-decoration: none;
            font-size: 20px;
        }

		input[type="number"] {
			width: 40px;
			padding: 5px;
			text-align: center;
		}
	</style>


</head>

<body>
	<header>
		<!-- Jumbotron -->
		<div class="p-3 text-center bg-white border-bottom">
			<div class="container">
				<div class="row gy-3">
					<!-- Left elements -->
					<div class="col-lg-2 col-sm-4 col-4">
						<a href="#" target="" class="float-start">
							<img src="/images/erpLogo.png" height="35" />
						</a>
					</div>
					<!-- Left elements -->

					<!-- Center elements -->
					<div class="order-lg-last col-lg-5 col-sm-8 col-8">
						<div class="d-flex float-end">
							<a th:href="@{/view-cart/}"
								class="border rounded py-1 px-3 nav-link d-flex align-items-center">
								<i class="fas fa-shopping-cart m-1 me-md-2"></i>
								<p class="d-none d-md-block mb-0">My cart</p>
							</a>
							<a href="http://localhost:9090/profile"
								class="me-1 border rounded py-1 px-3 nav-link d-flex align-items-center">
								<i class="fas fa-user-alt m-1 me-md-2"></i>
								<p class="d-none d-md-block mb-0">Profile</p>
							</a>
							<a th:href="@{/logout}"
								class="border rounded py-1 px-3 nav-link d-flex align-items-center">
								<i class="fas fa-sign-out-alt"></i>
								<p class="d-none d-md-block mb-0">Log Out</p>
							</a>
						</div>
					</div>
					<!-- Center elements -->

				</div>
			</div>
		</div>
		<!-- Jumbotron -->

		<!-- Navbar -->
		<nav class="navbar navbar-expand-lg navbar-light bg-white">
			<!-- Container wrapper -->
			<div class="container justify-content-center justify-content-md-between">
				<!-- Toggle button -->
				<button class="navbar-toggler border py-2 text-dark" type="button" data-mdb-toggle="collapse"
					data-mdb-target="#navbarLeftAlignExample" aria-controls="navbarLeftAlignExample"
					aria-expanded="false" aria-label="Toggle navigation">
					<i class="fas fa-bars"></i>
				</button>

				<!-- Collapsible wrapper -->
				<div class="collapse navbar-collapse" id="navbarLeftAlignExample">
					<!-- Left links -->
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="btn btn-primary" type="button" aria-current="page"  href="http://localhost:9090/index/page">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" href="http://localhost:9090/order/my-order">My Orders</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" href="#">Categories</a>
						</li>
						<li class="nav-item">
							<a th:href="@{/view-cart/}" class="nav-link text-dark">
								Cart Items
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" href="#">Coupons</a>
						</li>
						<li class="nav-item">
						
						</li>
					</ul>
					<!-- Left links -->
				</div>
			</div>
			<!-- Container wrapper -->
		</nav>
		<!-- Navbar -->
		<!-- Jumbotron -->
		<div class="bg-primary text-white py-0.5">
			<div class="container py-5">
				<h1>
					Best products & <br />
					brands in our store
				</h1>
				<p>Trendy Products, Factory Prices, Excellent Service</p>
				<button type="button" class="btn btn-outline-light">
					Learn more
				</button>
				<button 
					class="btn btn-light shadow-0 text-primary pt-2 border border-white">
					<span class="pt-1">	<a th:href="@{/purchase-product}" style="text-decoration: none;">
								<p class="d-none d-md-block mb-0">Purchase Now</p>
							</a></span>
				</button>
			</div>
		</div>
		<!-- Jumbotron -->
	</header>
	<!-- Products -->
	<section>
		<div class="container my-5">
			<header class="mb-4">
				<h3>New products</h3>
			</header>

       <div id="response"></div>

			<div class="product-card" th:each="product : ${products}">
				<img class="product-image" th:src="@{'/images/' + ${product.imagePath}}" alt="Product Image" />
				<h4 th:text="'Name: '+${product.name}">Name</h4>
				<p th:text="'Desc.: '+${product.description}">description</p>
				<p th:text="'Price: '+${product.sellingPrice}">sellingPrice</p>
				<div th:if="${product.quantity != 0 }">
				    <level for="quantity">Add Quantity:</level>
				</div>
				<div class="row">
					<div th:if="${product.quantity == 0 }" style="text-align: center;">
						<strong>
							<h5 style="color: rgb(255, 0, 0);">Out of Stock</h5>
						</strong>
						<button style="box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3); color:floralwhite" type="submit">Notify Me</button>
					</div>

					<div th:if="${product.quantity != 0 }">
						<form th:action="@{/add-to-cart/}" method="post" id="addToCartForm">
							<input type="number" name="quantity" value="1" min="1" id="quantityInput" />
							<input type="hidden" name="productId" th:value="${product.id}" />
							<button style="box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3);" class="add-to-cart-button" type="submit">ðŸ›’ Add to Cart</button>
						</form>


						<form th:action="@{http://localhost:9090/order/buySingleItem}" method="get" id="buyNowForm">
							<input type="hidden" name="productSellingPrice" th:value="${product.sellingPrice}" />
							<input type="hidden" name="productId" th:value="${product.id}" />
							<input type="hidden" name="quantity" value="1" min="1" id="quantityInputHidden" />
							<button style="box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.3);" type="submit">Buy now</button>
						</form>
					</div>
				</div>
				<div class="social-icons">
					 <a href="whatsapp://send?text=Check%20out%20this%20awesome%20product%20at%20https://yourwebsite.com/product-page" target="_blank">
                <i class="fab fa-whatsapp"></i>
            </a>
				</div>
				
			</div>
        
		</div>

	</section>
	<!-- Products -->

	<!-- Feature -->
	<section class="mt-5" style="background-color: #f5f5f5">
		<div class="container text-dark pt-3">
			<header class="pt-4 pb-3">
				<h3>Why choose us</h3>
			</header>

			<div class="row mb-4">
				<div class="col-lg-4 col-md-6">
					<figure class="d-flex align-items-center mb-4">
						<span class="rounded-circle bg-white p-3 d-flex me-2 mb-2">
							<i class="fas fa-camera-retro fa-2x fa-fw text-primary floating"></i>
						</span>
						<figcaption class="info">
							<h6 class="title">Reasonable prices</h6>
							<p>
								In today's competitive market, finding products and services at reasonable prices is
								more important
								than ever.here you will get all most product with affourdable prices
							</p>
						</figcaption>
					</figure>
					<!-- itemside // -->
				</div>
				<!-- col // -->
				<div class="col-lg-4 col-md-6">
					<figure class="d-flex align-items-center mb-4">
						<span class="rounded-circle bg-white p-3 d-flex me-2 mb-2">
							<i class="fas fa-star fa-2x fa-fw text-primary floating"></i>
						</span>
						<figcaption class="info">
							<h6 class="title">Best quality</h6>
							<p>
								Our commitment to providing the best quality is unwavering. When you choose us,
								you're choosing excellence every time.
							</p>
						</figcaption>
					</figure>
					<!-- itemside // -->
				</div>
				<!-- col // -->
				<div class="col-lg-4 col-md-6">
					<figure class="d-flex align-items-center mb-4">
						<span class="rounded-circle bg-white p-3 d-flex me-2 mb-2">
							<i class="fas fa-plane fa-2x fa-fw text-primary floating"></i>
						</span>
						<figcaption class="info">
							<h6 class="title">Worldwide shipping</h6>
							<p>
								With our worldwide shipping service, distance is no obstacle. We ensure your packages
								reach
								you safely and swiftly, no matter where you are in the world.
							</p>
						</figcaption>
					</figure>
					<!-- itemside // -->
				</div>
				<!-- col // -->
				<div class="col-lg-4 col-md-6">
					<figure class="d-flex align-items-center mb-4">
						<span class="rounded-circle bg-white p-3 d-flex me-2 mb-2">
							<i class="fas fa-users fa-2x fa-fw text-primary floating"></i>
						</span>
						<figcaption class="info">
							<h6 class="title">Customer satisfaction</h6>
							<p>
								we prioritize your happiness above all else.
								we're dedicated to ensuring your
								continued satisfaction.
							</p>
						</figcaption>
					</figure>
				</div>
				<!-- col // -->
				<div class="col-lg-4 col-md-6">
					<figure class="d-flex align-items-center mb-4">
						<span class="rounded-circle bg-white p-3 d-flex me-2 mb-2">
							<i class="fas fa-thumbs-up fa-2x fa-fw text-primary floating"></i>
						</span>
						<figcaption class="info">
							<h6 class="title">Happy customers</h6>
							<p>
								We are having 1000000+ happy customers with 8 different countries
							</p>
						</figcaption>
					</figure>
					<!-- itemside // -->
				</div>
				<!-- col // -->
				<div class="col-lg-4 col-md-6">
					<figure class="d-flex align-items-center mb-4">
						<span class="rounded-circle bg-white p-3 d-flex me-2 mb-2">
							<i class="fas fa-box fa-2x fa-fw text-primary floating"></i>
						</span>
						<figcaption class="info">
							<h6 class="title">Thousand items</h6>
							<p>
								We sale thousand of products with haivng all the varyites in all sessions
							</p>
						</figcaption>
					</figure>
					<!-- itemside // -->
				</div>
				<!-- col // -->
			</div>
		</div>
		<!-- container end.// -->
	</section>
	<!-- Feature -->



	<!-- Footer -->
	<footer class="text-center text-lg-start text-muted mt-3" style="background-color: #f5f5f5">
		<!-- Section: Links  -->
		<section class="">
			<div class="container text-center text-md-start pt-4 pb-4">
				<!-- Grid row -->
				<div class="row mt-3">
					<!-- Grid column -->
					<div class="col-12 col-lg-3 col-sm-12 mb-2">
						<!-- Content -->
						<a href="https://mdbootstrap.com/" target="_blank" class="">
							<img src="/images/erpLogo.png" height="35" />
						</a>
						<p class="mt-2 text-dark">Â© 2023 Copyright: MDBootstrap.com</p>
					</div>
					<!-- Grid column -->

					<!-- Grid column -->
					<div class="col-6 col-sm-4 col-lg-2">
						<!-- Links -->
						<h6 class="text-uppercase text-dark fw-bold mb-2">Store</h6>
						<ul class="list-unstyled mb-4">
							<li><a class="text-muted" href="#">About us</a></li>
							<li><a class="text-muted" href="#">Find store</a></li>
							<li><a class="text-muted" href="#">Categories</a></li>
							<li><a class="text-muted" href="#">Blogs</a></li>
						</ul>
					</div>
					<!-- Grid column -->

					<!-- Grid column -->
					<div class="col-6 col-sm-4 col-lg-2">
						<!-- Links -->
						<h6 class="text-uppercase text-dark fw-bold mb-2">Information</h6>
						<ul class="list-unstyled mb-4">
							<li><a class="text-muted" href="#">Help center</a></li>
							<li><a class="text-muted" href="#">Money refund</a></li>
							<li><a class="text-muted" href="#">Shipping info</a></li>
							<li><a class="text-muted" href="#">Refunds</a></li>
						</ul>
					</div>
					<!-- Grid column -->

					<!-- Grid column -->
					<div class="col-6 col-sm-4 col-lg-2">
						<!-- Links -->
						<h6 class="text-uppercase text-dark fw-bold mb-2">Support</h6>
						<ul class="list-unstyled mb-4">
							<li><a class="text-muted" href="#">Help center</a></li>
							<li><a class="text-muted" href="#">Documents</a></li>
							<li><a class="text-muted" href="#">Account restore</a></li>
							<li><a class="text-muted" href="#">My orders</a></li>
						</ul>
					</div>
					<!-- Grid column -->

					<!-- Grid column -->
					<div class="col-12 col-sm-12 col-lg-3">
						<!-- Links -->
						<h6 class="text-uppercase text-dark fw-bold mb-2">Newsletter</h6>
						<p class="text-muted">
							Stay in touch with latest updates about our products and offers
						</p>
						<div class="input-group mb-3">
							<input type="email" class="form-control border" placeholder="Email" aria-label="Email"
								aria-describedby="button-addon2" />
							<button class="btn btn-light border shadow-0" type="button" id="button-addon2"
								data-mdb-ripple-color="dark">
								Join
							</button>
						</div>
					</div>
					<!-- Grid column -->
				</div>
				<!-- Grid row -->
			</div>
		</section>
		<!-- Section: Links  -->

		<div class="">
			<div class="container">
				<div class="d-flex justify-content-between py-4 border-top">

					<div>
						<i class="fab fa-lg fa-cc-visa text-dark"></i>
						<i class="fab fa-lg fa-cc-amex text-dark"></i>
						<i class="fab fa-lg fa-cc-mastercard text-dark"></i>
						<i class="fab fa-lg fa-cc-paypal text-dark"></i>
					</div>

				</div>
			</div>
		</div>
	</footer>


	<script type="text/javascript" src="js/mdb.min.js"></script>
	<!-- Custom scripts -->
	<script type="text/javascript" src="js/script.js"></script>

	<script>
		// Function to fetch data from the API and update the HTML element
		function fetchDataAndDisplay() {
			// Replace 'YOUR_API_URL' with the actual API URL you want to call
			const apiUrl = "http://localhost:9090/purchase-product";
			fetch(apiUrl, {
				method: 'GET'
			})
				.then((response) => response.json())
				.then((data) => {
					// Update the content of the 'api-response' div with the API response
					document.getElementById('response').textContent = JSON.stringify(data);
				})
				.catch((error) => {
					console.error('Error fetching data:', error);
				});
		}

		// Call the function when the page loads
		window.onload = fetchDataAndDisplay;
	</script>

</body>

</html>